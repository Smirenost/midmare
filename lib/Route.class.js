"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Route=void 0;const path_to_regexp_1=require("path-to-regexp");var Route;!function(t){t.Route=class{constructor(t,e,s={}){if(this.path=t,this.options=s,this.name="",this.stack=[],this.paramNames=[],this.regexp=path_to_regexp_1.pathToRegexp(this.path,this.paramNames,s),this.stack=Array.isArray(e)?e:[e],this.stack.forEach(t=>t.name&&(t.method=t.name.toString())),this.stack.some(t=>"function"!=typeof t))throw TypeError("All middleware should have callback function.")}match(t){return this.regexp.test(t)}params(t,e){const s=e||{};for(let e=t.length,a=0;a<e;a++)this.paramNames[a]&&(s[this.paramNames[a].name]=t[a]);return s}param(t,e){const s=this.stack,a=this.paramNames,r=function(s,a){return e.call(this,s.params[t],s,a)};r.param=t;const i=a.map((function(t){return t.name})),h=i.indexOf(t);return h>-1&&s.some((t,a)=>(!t.param||i.indexOf(e.param)>h)&&(s.splice(a,0,r),!0)),this}captures(t){return this.options.ignoreCaptures?[]:t.match(this.regexp).slice(1)}setPrefix(t){return this.path&&(this.path="/"!==this.path||!0===this.options.strict?`${t}${this.path}`:t,this.paramNames=[],this.regexp=path_to_regexp_1.pathToRegexp(this.path,this.paramNames,this.options)),this}}}(Route=exports.Route||(exports.Route={}));
//# sourceMappingURL=../maps/lib/Route.class.js.map
